# Social Isolation Chatbot

이 저장소는 진단면접 기록지를 기반으로 **고립군 / 일반군 / 히키코모리** 판별 로직을 담고 있습니다.  
아래는 전체 면접 절차를 Mermaid 다이어그램으로 시각화한 것입니다.

---

## 기준 요약

| 기준 | 내용 | 충족 조건 |
|------|------|-----------|
| A. 물리적 고립 | 하루 대부분 집/방에 머무르거나 외출 주 4회 미만 | **6개월 이상** 지속 |
| B. 사회적 관계망 부재 | 유의미한 상호작용 대상 0명 (가족/동거인 제외) | **3개월 이상** 지속 |
| C. 사회적 지지 부족 | 의지할 수 있는 사람 0명 (가족/동거인/순수 온라인 제외) | **3개월 이상** 지속 |
| D. 고립으로 인한 고통/손상 | 정서적 고통(≥5점) 또는 기능 손상(≥5점) | **3개월 이상** 지속 |
| **중지 규칙** | A, B, C 모두 미충족 시 면담 종료 (D 진행 안 함) | |

---

## 시각화 다이어그램

```mermaid
flowchart TD
  start([시작: 지난 1달 생활 회상]) --> A1{A1: 하루 대부분 집/방에서 보냈는가?}
  A1 -->|예| A3{A3: 지속기간 ≥6개월? (3~6개월은 Pre-hikikomori)}
  A1 -->|아니오| A2{A2: 외출 주 4회 미만인가? (분리수거/생필품 제외)}
  A2 -->|예| A3
  A2 -->|아니오| A_fail[A: 미충족]
  A3 -->|예| A_ok[A: 충족]
  A3 -->|아니오| A_fail

  %% B
  A_ok --> B1{B1: 유의미한 관계(가족/동거인 제외) 0명인가?}
  A_fail --> B1
  B1 -->|예| B2{B2: 지속기간 ≥3개월?}
  B1 -->|아니오| B_fail[B: 미충족]
  B2 -->|예| B_ok[B: 충족]
  B2 -->|아니오| B_fail

  %% C
  B_ok --> C1{C1: 의지할 사람 0명인가? (가족/동거인/순수온라인 제외)}
  B_fail --> C1
  C1 -->|예| C2{C2: 지속기간 ≥3개월?}
  C1 -->|아니오| C_fail[C: 미충족]
  C2 -->|예| C_ok[C: 충족]
  C2 -->|아니오| C_fail

  %% 중지 규칙
  C_ok --> gate{A,B,C 모두 미충족인가?}
  C_fail --> gate
  gate -->|예| stop[[중지: D 진행 안 함]]
  gate -->|아니오| D1{D1-1: 고립으로 인한 정서적 고통/타인의 고통 ≥5점?}

  %% D1 (정서적 고통)
  D1 -->|예| D1dur{D1-2: 지속기간 ≥3개월?}
  D1 -->|아니오| D2_1{D2-1: 학업/직업/구직 영향 ≥5점?}
  D1dur -->|예| D1_ok[D1 충족]
  D1dur -->|아니오| D2_1

  %% D2 (기능손상)
  D2_1 -->|예| D2dur{D2-5: 지속기간 ≥3개월?}
  D2_1 -->|아니오| D2_2{D2-2: 돌봄 영향 ≥5점?}
  D2_2 -->|예| D2dur
  D2_2 -->|아니오| D2_3{D2-3: 일상 기능 영향 ≥5점?}
  D2_3 -->|예| D2dur
  D2_3 -->|아니오| D_fail[D: 미충족]

  D2dur -->|예| D2_ok[D2 충족]
  D2dur -->|아니오| D_fail

  D1_ok --> D_any
  D2_ok --> D_any
  D_fail --> classify
  D_any((D 전체 충족)) --> classify

  %% 최종 분류
  classify{{최종 분류}}
  classify -->|B,C,D 충족| iso[사회적 고립군]
  classify -->|A,B,C,D 충족| hiki[히키코모리(Subtype)]
  classify -->|그 외| noniso[일반군]
